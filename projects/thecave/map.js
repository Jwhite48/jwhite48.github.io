export function Map(e){const t=e,n=[["C","^","&","&","~","&","&","^","^"],["~","^","&","~","~","~","&","I","^"],["~","^","&","&","~","~","&","^","^"],["~","~","&","&","&","&","&","&","&"],["&","&","&","&","&","&","&","&","&"],["&","&","&","&","&","&","&","&","&"],["&","&","&","_","_","&","&","&","~"],["&","_","_","_","_","&","&","~","~"],["_","_","_","&","&","&","~","~","~"]];let r=4,a=4,i="Forest";Object.defineProperties(this,{currentTile:{get:function(){return i}}});let s=function(e){const t=new Image;return t.src=`tiles/${e}`,t};const c=s("forest.png"),l=s("desert.png"),o=s("cave.png"),f=s("inn.png"),u=s("water.png"),g=s("boulder.png"),h=s("player.png");let p=function(e){e.height=n.length*t,e.width=n[0].length*t},b=function(e,t){t.fillStyle="green",t.fillRect(0,0,e.width,e.height)},_=function(e){for(let i=0;i<n.length;i++)for(let s=0;s<n[i].length;s++){let p=null;switch(n[i][s]){case"&":p=c;break;case"_":p=l;break;case"I":p=f;break;case"C":p=o;break;case"~":p=u;break;case"^":p=g}null!=p&&e.drawImage(p,s*t,i*t,t,t),r==i&&a==s&&e.drawImage(h,s*t+t/4,i*t+t/4,t/2,t/2)}};this.draw=function(e,t){p(e),b(e,t),_(t)},this.playerMovement=function(e,t){if(1==e){if(r-1<0)return!1;if(t.noBoat&&"~"==n[r-1][a]||"^"==n[r-1][a])return!1;r-=1}else if(2==e){if(r+1==n.length)return!1;if(t.noBoat&&"~"==n[r+1][a]||"^"==n[r+1][a])return!1;r+=1}else if(3==e){if(a+1==n[0].length)return!1;if(t.noBoat&&"~"==n[r][a+1]||"^"==n[r][a+1])return!1;a+=1}else{if(a-1<0)return!1;if(t.noBoat&&"~"==n[r][a-1]||"^"==n[r][a-1])return!1;a-=1}switch(n[r][a]){case"&":i="Forest";break;case"_":i="Desert";break;case"I":i="Inn";break;case"C":i="Cave";break;case"~":i="Water"}return!0}};